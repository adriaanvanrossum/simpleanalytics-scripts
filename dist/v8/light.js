/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2021-12-30; 9899; SRI-version; v8) */

!function(s,e,t){try{var n="sa_event_loaded";if(!s||!0===s[n])return;s[n]=!0;var r,a="https:",i=s.console,o="doNotTrack",p=s.navigator,c=s.location,u=c.hostname,d=s.document,m=p.userAgent,f=!1,g=encodeURIComponent,l=decodeURIComponent,h=JSON.stringify,y=s.addEventListener,v="https://"+t,w=undefined,_=(d.documentElement,"language"),b=p.userAgentData,E="platform",O="platformVersion",S="https://docs.simpleanalytics.com",T=/(bot|spider|crawl)/i.test(m)&&!/(cubot)/i.test(m),x=function(e){i&&i.warn&&i.warn("Simple Analytics:",e)},A=(Date.now,function(){var t=s.crypto||s.msCrypto,e=[1e7]+-1e3+-4e3+-8e3+-1e11,n=/[018]/g;try{return e.replace(n,function(e){return(e^t.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}catch(r){return e.replace(n,function(e){var t=16*Math.random()|0;return(e<2?t:3&t|8).toString(16)})}}),B=function(){for(var e={},t=arguments,n=0;n<t.length;n++){var r=t[n];if(r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$=function(e){var t=c.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]},D=function(t,e){t=B(C,N,t),(new Image).src=v+"/simple.gif?"+Object.keys(t).filter(function(e){return t[e]!=w}).map(function(e){return g(e)+"="+g(t[e])}).join("&")+"&time="+Date.now()};try{r=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(L){}var I=d.currentScript||d.querySelector('script[src*="'+t+'"]'),R=function(e,t){return e&&e.getAttribute("data-"+t)},V=(e.mode||R(I,"mode"),e.hostname||R(I,"hostname")),j=V||u,k=(e.ignorePages||R(I,"ignore-pages"),T),C={version:"cdn_light_8",ua:m,https:c.protocol==a,timezone:r,hostname:j,page_id:A(),session_id:A()};if(k&&(C.bot=!0),C.sri=!0,b&&(C.mobile=b.mobile,C.brands=h(b.brands)),j!==u&&(C.hostname_original=u),o in p&&"1"==p[o])return x("Not sending request when "+o+" is enabled. See "+S+"/dnt");-1!=u.indexOf(".")&&!/^[0-9.:]+$/.test(u)||V||x("Set a hostname when sending data from "+u+". See "+S+"/overwrite-domain-name");var H,N={},U=(d.referrer||"").replace(u,j).replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)$/,"$1")||w,q="(utm_)?",P={source:$(q+"source|ref"),medium:$(q+"medium"),campaign:$(q+"campaign"),term:$(q+"term"),content:$(q+"content"),referrer:U},z="sendBeacon",F=function(e,t){var n={type:"append",original_id:t?e:C.page_id};!t&&z in p?p[z](v+"/append",h(B(C,n))):D(n)};y("pagehide",F,!1);var J=function(e){var t="";try{t=e||l(c.pathname)}catch(L){}return t};!function(e,t){var n=J(t);if(n&&H!=n){H=n,N.path=n,p[_]&&(N[_]=p[_]);var r=s.performance,a="navigation",i=r&&r.getEntriesByType&&r.getEntriesByType(a)[0]&&r.getEntriesByType(a)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(a)[0].type):r&&r[a]&&-1<[1,2].indexOf(r[a].type),o=!!U&&d.referrer.split("/")[2]==u,c=function(){f=!0,function(e,t,n){e&&F(""+C.page_id,!0),C.page_id=A();var r=j+J();D(B(t?{referrer:n?U:null}:P,{id:C.page_id,type:"pageview"})),U=r}(e,e||i,o)};if(f)c();else try{b&&"function"==typeof b.getHighEntropyValues?b.getHighEntropyValues([E,O]).then(function(e){C.os_name=e[E],C.os_version=e[O],c()})["catch"](c):c()}catch(L){c()}}}()}catch(L){x(L)}}(window,{},"<!--# echo var="http_host" default="" -->");
//# sourceMappingURL=light.js.map