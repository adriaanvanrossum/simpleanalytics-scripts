/* Simple Analytics - Privacy friend analytics (docs.simpleanalytics.com/script) */

!function(e){if(e){function t(e){o&&o.warn&&o.warn("Simple Analytics: "+e)}function n(e,t){return e&&e.getAttribute("data-"+t)}var r,a,i="https://",s=i+"<!--# echo var="http_host" default="" -->",o=e.console,c="doNotTrack",u="pageviews",h=e.navigator,p=h.userAgent,d=e.location,m=e.document,f=d.hostname,l="Not sending requests ",g="localhost",v="pushState",w=e.dispatchEvent,y=m.querySelector('script[src="'+i+'<!--# echo var="http_host" default="" -->/light.js"]'),S=n(y,"mode"),b="true"===n(y,"skip-dnt");n(y,"sa-global");if(!b&&c in h&&"1"===h[c])return t(l+"when "+c+" is enabled");if(f===g||"file:"===d.protocol)return t(l+"from "+g);if(!p||-1<p.search(/(bot|spider|crawl)/gi))return t(l+"because bot detected");try{function E(e){var t=d.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var T;try{T=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(F){}function q(e){return Math.round((Date.now()-(e||0))/1e3)}var R,$="(utm_)?",A={version:2,hostname:f,timezone:T,width:e.innerWidth,source:{source:E($+"source|ref"),medium:E($+"medium"),campaign:E($+"campaign"),referrer:(m.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||undefined},pageviews:[],events:[]},I="sendBeacon",N=e.addEventListener,O=JSON.stringify,k=I in h&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(p);k&&N("unload",function(){A[u][A[u].length-1];A.time=q(),h[I](s+"post",O(A))},!1);function x(e){var t=d.pathname;if("hash"===S&&d.hash&&(t+=d.hash.split("?")[0]),R!==t){var n={url:R=t,added:q()};!function(e,t,n){var r=A[e];if(r.length,r.push(t),!k){var a=new XMLHttpRequest;a.open("POST",s+e,!0),n&&delete A.source,A.time=q(),a.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),a.send(O(A))}}(u,n,e)}}var C=e.history;if((C?C.pushState:null)&&Event&&w){C.pushState=(a=C[r=v],function(){var e=a.apply(this,arguments),t=new Event(r);return t.arguments=arguments,w(t),e}),N(v,function(){x(1)}),e.onpopstate=function(){x(1)}}"hash"===S&&"onhashchange"in e&&(e.onhashchange=function(){x(1)}),x()}catch(F){t(F.message);var D=s+"image.gif";F.message&&(D=D+"?error="+encodeURIComponent(F.message)),(new Image).src=D}}}(window);