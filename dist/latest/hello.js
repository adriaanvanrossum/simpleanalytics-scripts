/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2020-01-24; b0dd) */

!function(d,e,t,n,r,a,i){if(d){function l(e){m&&m.warn&&m.warn("Simple Analytics: "+e)}function o(e,t){return e&&e.getAttribute("data-"+t)}var s,c,u="https:",h=u+"//",p=h+"queue."+e+"/v2/post",f=h+"online."+e+"/v1/visit",m=d.console,v="doNotTrack",g="pageviews",y="events",w=d.navigator,T=w.userAgent,E=d.location,q=d.document,b=E.hostname,S="Not sending requests ",M="localhost",x="Content-Type",D="text/plain; charset=UTF-8",O=d.addEventListener,R="pushState",B=d.dispatchEvent,H=Date.now(),L=0,$=q.querySelector('script[src*="'+e+'"]'),k=o($,"mode"),A="true"===o($,"skip-dnt"),C=o($,"sa-global")||"sa";if(!A&&v in w&&"1"===w[v])return l(S+"when "+v+" is enabled");if(b===M||"file:"===E.protocol)return l(S+"from "+M);if(!T||-1<T.search(/(bot|spider|crawl)/gi))return l(S+"because bot detected");try{function I(e){var t=E.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var N;try{N=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(oe){}var _="(utm_)?",F={version:i,hostname:b,https:E.protocol===u,timezone:N,width:d.innerWidth,source:{source:I(_+"source|source|ref"),medium:I(_+"medium"),campaign:I(_+"campaign"),referrer:(q.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||undefined},pageviews:[]},P=0,U=null;d.addEventListener("visibilitychange",function(){q.hidden?U=Date.now():P+=Date.now()-U},!1);function X(e){return Math.round((Date.now()-(e||0))/1e3)}var z,J="sendBeacon",W=JSON.stringify,Z=J in w&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(T);Z&&O("unload",function(){var e=F[g][F[g].length-1];e.duration=X(H+P),P=0;var t=Math.max(0,L,Q());t&&(e.scrolled=t),F.time=X(),w[J](p,W(F))},!1);var j="scroll",G=q.body,K=q.documentElement,Q=function(){var e="Height",t=j+e,n="offset"+e,r="client"+e,a=Math.max(G[t],G[n],K[r],K[t],K[n]);return Math.min(100,5*Math.round(100*(K.scrollTop+K[r])/a/5))};O("load",function(){L=Q(),O(j,function(){L<Q()&&(L=Q())},!1)});function V(e,t,n){var r=F[g],a=r?r.length:0,i=a?r[a-1]:null;if(e===y){var o=""+t;if(i?i[y]?i[y].push(o):i[y]=[o]:Z&&l("Couldn't save event '"+o+"'"),Z)return;delete F[g],F[y]=[o]}else{a&&(i.duration=X(H+P),i.scrolled=L),r.push(t);try{var s=new XMLHttpRequest;s.open("POST",f,!0),s.setRequestHeader(x,D),s.send(W(F))}catch(u){}if(Z)return H=Date.now(),P=0,void(L=d.setTimeout(Q,500))}var c=new XMLHttpRequest;c.open("POST",p,!0),n&&delete F.source,F.time=X(),c.setRequestHeader(x,D),c.send(W(F)),delete F[g],delete F[y]}function Y(e){var t=E.pathname;if("hash"===k&&E.hash&&(t+=E.hash.split("?")[0]),z!==t){var n={path:z=t,added:X()};try{var r=d.performance,a="navigation",i=r&&r.getEntriesByType&&r.getEntriesByType(a)[0]&&r.getEntriesByType(a)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(a)[0].type):r&&r[a]&&-1<[1,2].indexOf(r[a].type);n.unique=!e&&!i&&(!q.referrer||q.referrer.split("/")[2]!==b)}catch(o){n.error=o.message}V(g,n,e)}}var ee=d.history;if((ee?ee.pushState:null)&&Event&&B){ee.pushState=(c=ee[s=R],function(){var e=c.apply(this,arguments),t=new Event(s);return t.arguments=arguments,B(t),e}),O(R,function(){Y(1)},!1),O("popstate",function(){Y(1)},!1)}"hash"===k&&"onhashchange"in d&&O("hashchange",function(){Y(1)},!1),Y();function te(e){V(y,e)}d[C]||(d[C]=te);var ne=d[C],re=ne&&ne.q?ne.q:[];for(var ae in d[C]=te,re)V(y,re[ae])}catch(oe){l(oe.message);var ie=p+"image.gif";oe.message&&(ie=ie+"?error="+encodeURIComponent(oe.message)),(new Image).src=ie}}}(window,"simpleanalyticscdn.com",0,0,0,0,undefined);