/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2020-01-25; 451a) */

!function(d,e){if(d){function h(e){o&&o.warn&&o.warn("Simple Analytics: "+e)}function t(e,t){return e&&e.getAttribute("data-"+t)}var n,r,a="https:",i=a+"//",p=i+e+"/v2/post",l=i+e+"/v1/visit",o=d.console,s="doNotTrack",f="pageviews",v="events",c=d.navigator,u=c.userAgent,m=d.location,g=d.document,y=m.hostname,w="Not sending requests ",T="localhost",E="Content-Type",b=null,q="text/plain; charset=UTF-8",S=d.addEventListener,x="pushState",M=d.dispatchEvent,D=Date.now(),H=0,O=g.querySelector('script[src*="'+e+'"]'),R=t(O,"mode"),B="true"===t(O,"skip-dnt"),L=t(O,"sa-global")||"sa";if(!B&&s in c&&"1"===c[s])return h(w+"when "+s+" is enabled");if(y===T||"file:"===m.protocol)return h(w+"from "+T);if(!u||-1<u.search(/(bot|spider|crawl)/gi))return h(w+"because bot detected");try{function $(e){var t=m.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var k;try{k=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(ne){}var A="(utm_)?",C={version:2,hostname:y,https:m.protocol===a,timezone:k,width:d.innerWidth,source:{source:$(A+"source|source|ref"),medium:$(A+"medium"),campaign:$(A+"campaign"),referrer:(g.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||b},pageviews:[]},I=0,N=b;d.addEventListener("visibilitychange",function(){g.hidden?N=Date.now():I+=Date.now()-N},!1);function _(e){return Math.round((Date.now()-(e||0))/1e3)}var F,P="sendBeacon",U=JSON.stringify,X=P in c&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(u);X&&S("unload",function(){var e=C[f][C[f].length-1];e.duration=_(D+I),I=0;var t=Math.max(0,H,Z());t&&(e.scrolled=t),C.time=_(),c[P](p,U(C))},!1);var z="scroll",J=g.body||{},W=g.documentElement||{},Z=function(){var e="Height",t=z+e,n="offset"+e,r="client"+e,a=W[r]||0,i=Math.max(J[t]||0,J[n]||0,W[r]||0,W[t]||0,W[n]||0);return Math.min(100,5*Math.round(100*((W.scrollTop||0)+a)/i/5))};S("load",function(){H=Z(),S(z,function(){H<Z()&&(H=Z())},!1)});function j(e,t,n){var r=C[f],a=r?r.length:0,i=a?r[a-1]:b;if(e===v){var o=""+t;if(i?i[v]?i[v].push(o):i[v]=[o]:X&&h("Couldn't save event '"+o+"'"),X)return;delete C[f],C[v]=[o]}else{a&&(i.duration=_(D+I),i.scrolled=H),r.push(t),n&&0===a&&delete C.source;try{var s=new XMLHttpRequest;s.open("POST",l,!0),s.setRequestHeader(E,q),s.send(U(C))}catch(u){}if(X)return D=Date.now(),I=0,void(H=d.setTimeout(Z,500))}n&&delete C.source;var c=new XMLHttpRequest;c.open("POST",p,!0),C.time=_(),c.setRequestHeader(E,q),c.send(U(C)),delete C[f],delete C[v]}function G(e){var t=m.pathname;if("hash"===R&&m.hash&&(t+=m.hash.split("?")[0]),F!==t){var n={path:F=t,added:_()},r=d.performance,a="navigation",i=r&&r.getEntriesByType&&r.getEntriesByType(a)[0]&&r.getEntriesByType(a)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(a)[0].type):r&&r[a]&&-1<[1,2].indexOf(r[a].type);n.unique=!e&&!i&&(!g.referrer||g.referrer.split("/")[2]!==y),j(f,n,e||i)}}var K=d.history;if((K?K.pushState:b)&&Event&&M){K.pushState=(r=K[n=x],function(){var e=r.apply(this,arguments),t=new Event(n);return t.arguments=arguments,M(t),e}),S(x,function(){G(1)},!1),S("popstate",function(){G(1)},!1)}"hash"===R&&"onhashchange"in d&&S("hashchange",function(){G(1)},!1),G();function Q(e){j(v,e)}d[L]||(d[L]=Q);var V=d[L],Y=V&&V.q?V.q:[];for(var ee in d[L]=Q,Y)j(v,Y[ee])}catch(ne){h(ne.message);var te=p+"image.gif";ne.message&&(te=te+"?error="+encodeURIComponent(ne.message)),(new Image).src=te}}}(window,"<!--# echo var="http_host" default="" -->");