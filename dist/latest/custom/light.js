/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2021-12-30; d25f; v8) */

!function(s,e,t){try{var n="sa_event_loaded";if(!s||!0===s[n])return;s[n]=!0;var r,i="https:",a=s.console,o="doNotTrack",p=s.navigator,c=s.location,u=c.hostname,m=s.document,d=p.userAgent,f=!1,l=encodeURIComponent,g=decodeURIComponent,h=JSON.stringify,y=s.addEventListener,v="https://"+t,w=undefined,_=(m.documentElement,"language"),b=p.userAgentData,E="platform",O="platformVersion",S="https://docs.simpleanalytics.com",T=/(bot|spider|crawl)/i.test(d)&&!/(cubot)/i.test(d),x=function(e){a&&a.warn&&a.warn("Simple Analytics:",e)},A=(Date.now,function(){var t=s.crypto||s.msCrypto,e=[1e7]+-1e3+-4e3+-8e3+-1e11,n=/[018]/g;try{return e.replace(n,function(e){return(e^t.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}catch(r){return e.replace(n,function(e){var t=16*Math.random()|0;return(e<2?t:3&t|8).toString(16)})}}),B=function(){for(var e={},t=arguments,n=0;n<t.length;n++){var r=t[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$=function(e,t){var n=c.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),r=n?n.map(function(e){return e.split(/[?&=]/).slice(-2)}):[];if(r[0])return t?r[0]:r[0][1]},D=function(t,e){t=B(C,N,t),(new Image).src=v+"/simple.gif?"+Object.keys(t).filter(function(e){return t[e]!=w}).map(function(e){return l(e)+"="+l(t[e])}).join("&")+"&time="+Date.now()};try{r=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(P){}var I=m.currentScript||m.querySelector('script[src*="'+t+'"]'),R=function(e,t){return e&&e.getAttribute("data-"+t)},U=(e.mode||R(I,"mode"),e.hostname||R(I,"hostname")),V=U||u,j=e.strictUtm||R(I,"strict-utm"),k=T,C={version:"custom_light_8",ua:d,https:c.protocol==i,timezone:r,hostname:V,page_id:A(),session_id:A()};if(k&&(C.bot=!0),C.sri=!1,b&&(C.mobile=b.mobile,C.brands=h(b.brands)),V!==u&&(C.hostname_original=u),o in p&&"1"==p[o])return x("Not sending request when "+o+" is enabled. See "+S+"/dnt");-1!=u.indexOf(".")&&!/^[0-9.:]+$/.test(u)||U||x("Set a hostname when sending data from "+u+". See "+S+"/overwrite-domain-name");var H,N={},q=(m.referrer||"").replace(u,V).replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)$/,"$1")||w,z="(utm_)"+(j?"":"?"),F={source:$(z+"source"+(j?"":"|ref")),medium:$(z+"medium"),campaign:$(z+"campaign"),term:$(z+"term"),content:$(z+"content"),referrer:q},J="sendBeacon",L=function(e,t){var n={type:"append",original_id:t?e:C.page_id};!t&&J in p?p[J](v+"/append",h(B(C,n))):D(n)};y("pagehide",L,!1);var M=function(e){var t="";try{t=e||g(c.pathname)}catch(P){}return t};!function(e,t){var n=M(t);if(n&&H!=n){H=n,N.path=n,p[_]&&(N[_]=p[_]);var r=s.performance,i="navigation",a=r&&r.getEntriesByType&&r.getEntriesByType(i)[0]&&r.getEntriesByType(i)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(i)[0].type):r&&r[i]&&-1<[1,2].indexOf(r[i].type),o=!!q&&m.referrer.split("/")[2]==u,c=function(){f=!0,function(e,t,n){e&&L(""+C.page_id,!0),C.page_id=A();var r=V+M();D(B(t?{referrer:n?q:null}:F,{id:C.page_id,type:"pageview"})),q=r}(e,e||a,o)};if(f)c();else try{b&&"function"==typeof b.getHighEntropyValues?b.getHighEntropyValues([E,O]).then(function(e){C.os_name=e[E],C.os_version=e[O],c()})["catch"](c):c()}catch(P){c()}}}()}catch(P){x(P)}}(window,{},"<!--# echo var="http_host" default="" -->");
//# sourceMappingURL=light.js.map