/* Simple Analytics - Privacy friend analytics (docs.simpleanalytics.com/script) */

!function(h){if(h){function p(e){t&&t.warn&&t.warn("Simple Analytics: "+e)}var n,r,e="https://",u=e+"api.simpleanalytics.io/post",t=h.console;try{function a(e,t){return e&&e.getAttribute("data-"+t)}var l,f=h.navigator,g=h.location,d=h.document,m=f.userAgent,i=h.dispatchEvent,y=h.performance,v="Not sending requests ",o=d.querySelector('script[src="https://cdn.simpleanalytics.io/hello.js"]'),T=a(o,"mode"),w="true"===a(o,"skip-dnt");if(-1<m.search(/(bot|spider|crawl)/gi))return p(v+"because user agent is a robot");function s(e){var t=g.protocol+"//"+g.hostname+g.pathname;if("hash"===T&&g.hash&&(t+=g.hash.split("?")[0]),l!==t){if(l=t,!w&&"doNotTrack"in f&&"1"===f.doNotTrack)return p(v+"when doNotTrack is enabled");if("localhost"===g.hostname||"file:"===g.protocol)return p(v+"from localhost");var n=g.search.match(/[?&](utm_source|source|ref)=([^?&]+)/gi),r=n?n.map(function(e){return e.split("=")[1]}):[],a={url:t};m&&(a.ua=m),r&&r[0]&&(a.urlReferrer=r[0]),d.referrer&&!e&&(a.referrer=d.referrer),h.innerWidth&&(a.width=h.innerWidth);try{var i=y&&y.getEntriesByType&&y.getEntriesByType("navigation")[0]&&y.getEntriesByType("navigation")[0].type?-1<["reload","back_forward"].indexOf(y.getEntriesByType("navigation")[0].type):null,o="boolean"==typeof i?i:y&&y.navigation&&y.navigation.type&&-1<[y.navigation.TYPE_RELOAD,y.navigation.TYPE_BACK_FORWARD].indexOf(y.navigation.type);a.unique=!e&&!o&&(d.referrer&&d.referrer.split("/")[2]!==g.hostname)}catch(c){}try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(c){}var s=new XMLHttpRequest;s.open("POST",u,!0),s.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),s.send(JSON.stringify(a))}}var c=h.history;if((c?c.pushState:null)&&Event&&i){c.pushState=(r=c[n="pushState"],function(){var e=r.apply(this,arguments),t=new Event(n);return t.arguments=arguments,i(t),e}),h.addEventListener("pushState",function(){s(!0)})}"hash"===T&&"onhashchange"in h&&(h.onhashchange=function(){s(!0)}),s()}catch(S){p(S.message);var E=u+".gif";S.message&&(E=E+"?error="+encodeURIComponent(S.message)),(new Image).src=E}}}(window);