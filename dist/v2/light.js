/* Simple Analytics - Privacy friend analytics (docs.simpleanalytics.com/script) */

!function(e){if(e){function t(e){o&&o.warn&&o.warn("Simple Analytics: "+e)}function n(e,t){return e&&e.getAttribute("data-"+t)}var r,a,i="https://",s=i+"api.simpleanalyticscdn.com/v2/",o=e.console,c="doNotTrack",u="pageviews",h=e.navigator,p=h.userAgent,d=e.location,l=e.document,m=d.hostname,f="Not sending requests ",g="pushState",v=e.dispatchEvent,w=l.querySelector('script[src="'+i+'scripts.simpleanalyticscdn.com/light.js"]'),y=n(w,"mode"),S="true"===n(w,"skip-dnt");n(w,"sa-global");if(!S&&c in h&&"1"===h[c])return t(f+"when "+c+" is enabled");if("localhost"===m||"file:"===d.protocol)return t(f+"from localhost");if(!p||-1<p.search(/(bot|spider|crawl)/gi))return t(f+"because bot detected");try{function b(e){var t=d.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var E;try{E=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(D){}function T(){return Math.round(Date.now()/1e3)}var q,R="(utm_)?",$={version:2,hostname:m,timezone:E,width:e.innerWidth,source:{source:b(R+"source|ref"),medium:b(R+"medium"),campaign:b(R+"campaign"),referrer:(l.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||undefined},pageviews:[],events:[]},A="sendBeacon",I=e.addEventListener,N=JSON.stringify,O=A in h&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(p);O&&I("unload",function(){$[u][$[u].length-1];$.time=T(),h[A](s+"post",N($))},!1);function k(e){var t=d.pathname;if("hash"===y&&d.hash&&(t+=d.hash.split("?")[0]),q!==t){var n={url:q=t,added:T()};!function(e,t,n){var r=$[e];if(r.length,r.push(t),!O){var a=new XMLHttpRequest;a.open("POST",s+e,!0),n&&delete $.source,$.time=T(),a.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),a.send(N($))}}(u,n,e)}}var x=e.history;if((x?x.pushState:null)&&Event&&v){x.pushState=(a=x[r=g],function(){var e=a.apply(this,arguments),t=new Event(r);return t.arguments=arguments,v(t),e}),I(g,function(){k(1)}),e.onpopstate=function(){k(1)}}"hash"===y&&"onhashchange"in e&&(e.onhashchange=function(){k(1)}),k()}catch(D){t(D.message);var C=s+"image.gif";D.message&&(C=C+"?error="+encodeURIComponent(D.message)),(new Image).src=C}}}(window);