/* Simple Analytics - Privacy friend analytics (docs.simpleanalytics.com/script) */

!function(r){if(r){function a(e){s&&s.warn&&s.warn("Simple Analytics: "+e)}function e(e){var t=l.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var n,i,t="https://",o=t+"api.simpleanalyticscdn.com/v2/",s=r.console,c="doNotTrack",h="pageviews",u=r.navigator,l=r.location,p=r.document,d=l.hostname,m={version:2,hostname:d,pageviews:[],events:[]},f="pushState",g=r.dispatchEvent;try{var v,w="sendBeacon",y=u.userAgent,S=r.addEventListener,b=JSON.stringify,T="Not sending requests ",E=w in r.navigator&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(y);E&&S("unload",function(){m[h][m[h].length-1];D&&(m.timezone=D),m.currentTime=Date.now(),navigator[w](o+"post",b(m))},!1);function R(e,t){return e&&e.getAttribute("data-"+t)}var q=p.querySelector('script[src="'+t+'scripts.simpleanalyticscdn.com/light.js"]'),$=R(q,"mode"),A="true"===R(q,"skip-dnt");R(q,"sa-global");if(!y||-1<y.search(/(bot|spider|crawl)/gi))return a(T+"because bot detected");var D,I="(utm_)?",N=e(I+"source|ref"),O=(e(I+"medium"),e(I+"campaign"),(p.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||null);try{D=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(C){}function k(e){var t=l.protocol+"//"+d+l.pathname;if("hash"===$&&l.hash&&(t+=l.hash.split("?")[0]),v!==t){if(v=t,!A&&c in u&&"1"===u[c])return a(T+"when "+c+" is enabled");if("localhost"===d||"file:"===l.protocol)return a(T+"from localhost");var n={url:t,added:Date.now()};N&&(n.urlReferrer=N),r.innerWidth&&(n.width=r.innerWidth),e||(O&&(n.referrer=O),D&&(n.timezone=D),n.version=2),function(e,t){if(E){var n=m[e];return n.length,n.push(t)}var r=new XMLHttpRequest;r.open("POST",o+e,!0),r.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),r.send(b(t))}(h,n)}}var x=r.history;if((x?x.pushState:null)&&Event&&g){x.pushState=(i=x[n=f],function(){var e=i.apply(this,arguments),t=new Event(n);return t.arguments=arguments,g(t),e}),S(f,function(){k(1)})}"hash"===$&&"onhashchange"in r&&(r.onhashchange=function(){k(1)}),k()}catch(C){a(C.message);var z=o+"image.gif";C.message&&(z=z+"?error="+encodeURIComponent(C.message)),(new Image).src=z}}}(window);