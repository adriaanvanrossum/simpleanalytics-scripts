/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2020-01-20; 9e1f) */

!function(c){if(c){function u(e){i&&i.warn&&i.warn("Simple Analytics: "+e)}function e(e,t){return e&&e.getAttribute("data-"+t)}var n,r,t="https:",a=t+"//",d=a+"<!--# echo var="http_host" default="" -->/v2/post",i=c.console,o="doNotTrack",h="pageviews",l="events",s=c.navigator,p=s.userAgent,f=c.location,m=c.document,v=f.hostname,g="Not sending requests ",y="localhost",w=c.addEventListener,E="pushState",T=c.dispatchEvent,b=Date.now(),q=0,S=m.querySelector('script[src="'+a+'<!--# echo var="http_host" default="" -->/app.js"]'),x=e(S,"mode"),D="true"===e(S,"skip-dnt"),M=e(S,"sa-global")||"sa";if(!D&&o in s&&"1"===s[o])return u(g+"when "+o+" is enabled");if(v===y||"file:"===f.protocol)return u(g+"from "+y);if(!p||-1<p.search(/(bot|spider|crawl)/gi))return u(g+"because bot detected");try{function B(e){var t=f.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var O;try{O=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(Q){}var R="(utm_)?",$={version:2,hostname:v,https:f.protocol===t,timezone:O,width:c.innerWidth,source:{source:B(R+"source|source|ref"),medium:B(R+"medium"),campaign:B(R+"campaign"),referrer:(m.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||undefined},pageviews:[]},k=0,A=null;c.addEventListener("visibilitychange",function(){m.hidden?A=Date.now():k+=Date.now()-A},!1);function C(e){return Math.round((Date.now()-(e||0))/1e3)}var H,I="sendBeacon",L=JSON.stringify,N=I in s&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(p);N&&w("unload",function(){var e=$[h][$[h].length-1];e.duration=C(b+k),k=0;var t=Math.max(0,q,z());t&&(e.scrolled=t),$.time=C(),s[I](d,L($))},!1);var _="scroll",F=m.body,U=m.documentElement,z=function(){var e="Height",t=_+e,n="offset"+e,r="client"+e,a=Math.max(F[t],F[n],U[r],U[t],U[n]);return Math.min(100,5*Math.round(100*(U.scrollTop+U[r])/a/5))};w("load",function(){q=z(),w(_,function(){q<z()&&(q=z())},!1)});function J(e,t,n){var r=$[h],a=r?r.length:0,i=a?r[a-1]:null;if(e===l){var o=""+t;if(i?i[l]?i[l].push(o):i[l]=[o]:N&&u("Couldn't save event '"+o+"'"),N)return;delete $[h],$[l]=[o]}else if(a&&(i.duration=C(b+k),i.scrolled=q),r.push(t),N)return b=Date.now(),k=0,void(q=c.setTimeout(z,500));var s=new XMLHttpRequest;s.open("POST",d,!0),n&&delete $.source,$.time=C(),s.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),s.send(L($)),delete $[h],delete $[l]}function P(e){var t=f.pathname;if("hash"===x&&f.hash&&(t+=f.hash.split("?")[0]),H!==t){var n={path:H=t,added:C()};try{var r=c.performance,a="navigation",i=r&&r.getEntriesByType&&r.getEntriesByType(a)[0]&&r.getEntriesByType(a)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(a)[0].type):r&&r[a]&&-1<[1,2].indexOf(r[a].type);n.unique=!e&&!i&&(!m.referrer||m.referrer.split("/")[2]!==v)}catch(o){n.error=o.message}J(h,n,e)}}var W=c.history;if((W?W.pushState:null)&&Event&&T){W.pushState=(r=W[n=E],function(){var e=r.apply(this,arguments),t=new Event(n);return t.arguments=arguments,T(t),e}),w(E,function(){P(1)},!1),w("popstate",function(){P(1)},!1)}"hash"===x&&"onhashchange"in c&&w("hashchange",function(){P(1)},!1),P();function X(e){J(l,e)}c[M]||(c[M]=X);var Z=c[M],j=Z&&Z.q?Z.q:[];for(var G in c[M]=X,j)J(l,j[G])}catch(Q){u(Q.message);var K=d+"image.gif";Q.message&&(K=K+"?error="+encodeURIComponent(Q.message)),(new Image).src=K}}}(window);