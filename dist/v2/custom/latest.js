/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2020-02-20; f4d2) */

!function(a,n){if(a){var t,r="https:",e=r+"//",i=a.console,o="doNotTrack",c=a.navigator,s=a.location,u=a.document,f=s.hostname,d="Not sending requests ",h=encodeURIComponent,p=decodeURIComponent,l=JSON.stringify,m=a.addEventListener,v=e+n,g=function(e){i&&i.warn&&i.warn("Simple Analytics:",e)},y=function(){return Math.random().toString(36).slice(2)},w=function(e){return Math.round((Date.now()-(e||0))/1e3)};try{t=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(te){}m("error",function(e){e.filename&&-1<e.filename.indexOf(n)&&ne(e.message)},!1);function E(e,n){return e&&e.getAttribute("data-"+n)}var x,O,b="pushState",S=a.dispatchEvent,T=Date.now(),M=0,q=u.querySelector('script[src*="'+n+'"]'),B=E(q,"mode"),D="true"===E(q,"skip-dnt"),_=E(q,"sa-global")||"sa";if(!D&&o in c&&"1"===c[o])return g(d+"when "+o+" is enabled");if(-1===f.indexOf("."))return g(d+"from localhost");try{function I(e){var n=s.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),t=n?n.map(function(e){return e.split("=")[1]}):[];if(t&&t[0])return t[0]}function $(){for(var e={},n=0;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}var k,N,R,j={version:2,hostname:f},A="(utm_)?",C={source:I(A+"source|source|ref"),medium:I(A+"medium"),campaign:I(A+"campaign"),referrer:(u.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||undefined},F=0;a.addEventListener("visibilitychange",function(){u.hidden?R=Date.now():F+=Date.now()-R},!1);function H(){var e={version:2,original_id:k.id};e.duration=w(T+F),T=F=0,e.scrolled=Math.max(0,M,P()),c[L](v+"/post",l($(j,e)))}var L="sendBeacon";L in c&&m("unload",H,!1);var U="scroll",z=u.body||{},J=u.documentElement||{},P=function(){try{var e="Height",n=U+e,t="offset"+e,r="client"+e,i=J[r]||0,o=Math.max(z[n]||0,z[t]||0,J[r]||0,J[n]||0,J[t]||0);return Math.min(100,5*Math.round(100*((J.scrollTop||0)+i)/o/5))}catch(a){return 0}};m("load",function(){M=P(),m(U,function(){M<P()&&(M=P())},!1)});function W(e){var n=p(s.pathname);if("hash"===B&&s.hash&&(n+=s.hash.split("?")[0]),N!==n){var t={path:N=n},r=a.performance,i="navigation",o=r&&r.getEntriesByType&&r.getEntriesByType(i)[0]&&r.getEntriesByType(i)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(i)[0].type):r&&r[i]&&-1<[1,2].indexOf(r[i].type);t.unique=!e&&!o&&(!u.referrer||u.referrer.split("/")[2]!==f),k=t,function(e,n){e&&H(),ee($(j,{source:n?null:C}))}(e,e||o)}}var Z=a.history;if((Z?Z.pushState:undefined)&&Event&&S){Z.pushState=(O=Z[x=b],function(){var e,n=O.apply(this,arguments);return"function"==typeof Event?e=new Event(x):(e=document.createEvent("Event")).initEvent(x,!0,!0),e.arguments=arguments,S(e),n}),m(b,function(){W(1)},!1),m("popstate",function(){W(1)},!1)}"hash"===B&&"onhashchange"in a&&m("hashchange",function(){W(1)},!1),W();function G(e){try{e=""+e instanceof Function?e():e}catch(n){g("in your event function: "+n.message),e="event_errored"}ee($(j,{events:[e],event_id:Q,source:C}))}function K(e){G(e)}var Q=y();a[_]||(a[_]=K);var V=a[_],X=V&&V.q?V.q:[];for(var Y in a[_]=K,X)G(X[Y])}catch(te){ne(te)}}function ee(e){k.id=y(),e.pageviews=[k],e.time=w(),e.https=s.protocol===r,e.timezone=t,e.width=a.innerWidth,g(e),(new Image).src=v+"/get.gif?json="+h(l(e))}function ne(e){e=e.message||e,g(e),ee({error:e,url:f+s.pathname})}}(window,"<!--# echo var="http_host" default="" -->");