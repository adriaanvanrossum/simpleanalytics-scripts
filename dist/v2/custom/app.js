/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2020-01-24; 6d19) */

!function(d,e){if(d){function h(e){o&&o.warn&&o.warn("Simple Analytics: "+e)}function t(e,t){return e&&e.getAttribute("data-"+t)}var n,r,a="https:",i=a+"//",l=i+e+"/v2/post",p=i+e+"/v1/visit",o=d.console,s="doNotTrack",f="pageviews",v="events",c=d.navigator,u=c.userAgent,m=d.location,g=d.document,y=m.hostname,w="Not sending requests ",T="localhost",E="Content-Type",b="text/plain; charset=UTF-8",q=d.addEventListener,S="pushState",x=d.dispatchEvent,M=Date.now(),D=0,H=g.querySelector('script[src*="'+e+'"]'),O=t(H,"mode"),R="true"===t(H,"skip-dnt"),B=t(H,"sa-global")||"sa";if(!R&&s in c&&"1"===c[s])return h(w+"when "+s+" is enabled");if(y===T||"file:"===m.protocol)return h(w+"from "+T);if(!u||-1<u.search(/(bot|spider|crawl)/gi))return h(w+"because bot detected");try{function L(e){var t=m.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var $;try{$=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(te){}var k="(utm_)?",A={version:2,hostname:y,https:m.protocol===a,timezone:$,width:d.innerWidth,source:{source:L(k+"source|source|ref"),medium:L(k+"medium"),campaign:L(k+"campaign"),referrer:(g.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||undefined},pageviews:[]},C=0,I=null;d.addEventListener("visibilitychange",function(){g.hidden?I=Date.now():C+=Date.now()-I},!1);function N(e){return Math.round((Date.now()-(e||0))/1e3)}var _,F="sendBeacon",P=JSON.stringify,U=F in c&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(u);U&&q("unload",function(){var e=A[f][A[f].length-1];e.duration=N(M+C),C=0;var t=Math.max(0,D,W());t&&(e.scrolled=t),A.time=N(),c[F](l,P(A))},!1);var X="scroll",z=g.body,J=g.documentElement,W=function(){var e="Height",t=X+e,n="offset"+e,r="client"+e,a=Math.max(z[t],z[n],J[r],J[t],J[n]);return Math.min(100,5*Math.round(100*(J.scrollTop+J[r])/a/5))};q("load",function(){D=W(),q(X,function(){D<W()&&(D=W())},!1)});function Z(e,t,n){var r=A[f],a=r?r.length:0,i=a?r[a-1]:null;if(e===v){var o=""+t;if(i?i[v]?i[v].push(o):i[v]=[o]:U&&h("Couldn't save event '"+o+"'"),U)return;delete A[f],A[v]=[o]}else{a&&(i.duration=N(M+C),i.scrolled=D),r.push(t);try{var s=new XMLHttpRequest;s.open("POST",p,!0),s.setRequestHeader(E,b),s.send(P(A))}catch(u){}if(U)return M=Date.now(),C=0,void(D=d.setTimeout(W,500))}var c=new XMLHttpRequest;c.open("POST",l,!0),n&&delete A.source,A.time=N(),c.setRequestHeader(E,b),c.send(P(A)),delete A[f],delete A[v]}function j(e){var t=m.pathname;if("hash"===O&&m.hash&&(t+=m.hash.split("?")[0]),_!==t){var n={path:_=t,added:N()};try{var r=d.performance,a="navigation",i=r&&r.getEntriesByType&&r.getEntriesByType(a)[0]&&r.getEntriesByType(a)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(a)[0].type):r&&r[a]&&-1<[1,2].indexOf(r[a].type);n.unique=!e&&!i&&(!g.referrer||g.referrer.split("/")[2]!==y)}catch(o){n.error=o.message}Z(f,n,e)}}var G=d.history;if((G?G.pushState:null)&&Event&&x){G.pushState=(r=G[n=S],function(){var e=r.apply(this,arguments),t=new Event(n);return t.arguments=arguments,x(t),e}),q(S,function(){j(1)},!1),q("popstate",function(){j(1)},!1)}"hash"===O&&"onhashchange"in d&&q("hashchange",function(){j(1)},!1),j();function K(e){Z(v,e)}d[B]||(d[B]=K);var Q=d[B],V=Q&&Q.q?Q.q:[];for(var Y in d[B]=K,V)Z(v,V[Y])}catch(te){h(te.message);var ee=l+"image.gif";te.message&&(ee=ee+"?error="+encodeURIComponent(te.message)),(new Image).src=ee}}}(window,"<!--# echo var="http_host" default="" -->");