/* Simple Analytics - Privacy friend analytics (docs.simpleanalytics.com/script) */

!function(s){if(s){function c(e){i&&i.warn&&i.warn("Simple Analytics: "+e)}function e(e){var t=f.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}function a(e){return Math.round((Date.now()-e)/1e3)}var n,r,t="https://",o=t+"api.simpleanalyticscdn.com/v2/",i=s.console,u="doNotTrack",h="pageviews",l="events",p=s.navigator,f=s.location,d=s.document,g=f.hostname,m={version:2,hostname:g,pageviews:[],events:[]},v="pushState",y=s.dispatchEvent,w=Date.now(),T=0;try{var E,b=p.userAgent,q=s.addEventListener,S=JSON.stringify,x="Not sending requests ",B="sendBeacon"in s.navigator&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(b);B&&q("unload",function(){var e=m[h][m[h].length-1];e.duration=a(w);var t=Math.max(0,T,R());t&&(e.scrolled=t),A&&(m.timezone=A),m.currentTime=Date.now(),navigator.sendBeacon(o+"post",S(m))},!1);function D(e,t){return e&&e.getAttribute("data-"+t)}var M=d.querySelector('script[src="'+t+scriptUrl+'"]'),H=d.body,O=d.documentElement,R=function(){var e="scrollHeight",t="offsetHeight",n="clientHeight",r=Math.max(H[e],H[t],O[n],O[e],O[t]);return Math.min(100,5*Math.round(100*(O.scrollTop+O[n])/r/5))};q("load",function(){T=R(),q("scroll",function(){T<R()&&(T=R())})});var $=D(M,"mode"),_="true"===D(M,"skip-dnt"),k=D(M,"sa-global")||"sa";if(!b||-1<b.search(/(bot|spider|crawl)/gi))return c(x+"because bot detected");var A,I=e("utm_source|source|ref"),N=e("utm_campaign|campaign"),U=(d.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||null;try{A=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(X){}function z(e,t){if(B){var n=m[e];return n.length&&(n[n.length-1].duration=a(w),n[n.length-1].scrolled=T),n.push(t),w=Date.now(),void(T=0)}var r=new XMLHttpRequest;r.open("POST",o+e,!0),r.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),r.send(S(t))}function C(e){var t=f.protocol+"//"+g+f.pathname;if("hash"===$&&f.hash&&(t+=f.hash.split("?")[0]),E!==t){if(E=t,!_&&u in p&&"1"===p[u])return c(x+"when "+u+" is enabled");if("localhost"===g||"file:"===f.protocol)return c(x+"from localhost");var n={url:t,added:Date.now()};I&&(n.urlReferrer=I),s.innerWidth&&(n.width=s.innerWidth),e||(U&&(n.referrer=U),A&&(n.timezone=A),n.version=2);try{var r=s.performance,a="navigation",o=r&&r.getEntriesByType&&r.getEntriesByType(a)[0]&&r.getEntriesByType(a)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(a)[0].type):r&&r[a]&&-1<[1,2].indexOf(r[a].type);n.unique=!e&&!o&&(!d.referrer||d.referrer.split("/")[2]!==g)}catch(i){n.error=i.message}z(h,n)}}var F=s.history;if((F?F.pushState:null)&&Event&&y){F.pushState=(r=F[n=v],function(){var e=r.apply(this,arguments),t=new Event(n);return t.arguments=arguments,y(t),e}),q(v,function(){C(1)})}"hash"===$&&"onhashchange"in s&&(s.onhashchange=function(){C(1)}),C();var L=I||U,W=s[k]&&s[k].q?s[k].q:[];s[k]=function(e){z(l,{event:e,ref:L,campaign:N})};for(var J=0;J<W.length;J++)z(l,{event:W[J][0],ref:L,campaign:N})}catch(X){c(X.message);var P=o+"image.gif";X.message&&(P=P+"?error="+encodeURIComponent(X.message)),(new Image).src=P}}}(window);