/* Simple Analytics - Privacy friend analytics (docs.simpleanalytics.com/script) */

!function(s){if(s){function c(e){i&&i.warn&&i.warn("Simple Analytics: "+e)}function e(e){var t=d.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}function a(e){return Math.round((Date.now()-e)/1e3)}var n,r,t="https://",o=t+"api.simpleanalyticscdn.com/v2/",i=s.console,u="doNotTrack",h="pageviews",l="events",p=s.navigator,d=s.location,f=s.document,m=d.hostname,g={version:2,hostname:m,pageviews:[],events:[]},v="pushState",y=s.dispatchEvent,w=Date.now(),T=0;try{var E,b="sendBeacon",q=p.userAgent,S=s.addEventListener,x=JSON.stringify,D="Not sending requests ",M=b in s.navigator&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(q);M&&S("unload",function(){var e=g[h][g[h].length-1];e.duration=a(w);var t=Math.max(0,T,A());t&&(e.scrolled=t),_&&(g.timezone=_),g.currentTime=Date.now(),navigator[b](o+"post",x(g))},!1);function B(e,t){return e&&e.getAttribute("data-"+t)}var O=f.querySelector('script[src="'+t+'scripts.simpleanalyticscdn.com/latest.js"]'),R="scroll",$=f.body,k=f.documentElement,A=function(){var e="Height",t=R+e,n="offset"+e,r="client"+e,a=Math.max($[t],$[n],k[r],k[t],k[n]);return Math.min(100,5*Math.round(100*(k.scrollTop+k[r])/a/5))};S("load",function(){T=A(),S(R,function(){T<A()&&(T=A())})});var H=B(O,"mode"),I="true"===B(O,"skip-dnt"),N=B(O,"sa-global")||"sa";if(!q||-1<q.search(/(bot|spider|crawl)/gi))return c(D+"because bot detected");var _,z="(utm_)?",C=e(z+"source|ref"),F=e(z+"medium"),L=e(z+"campaign"),U=(f.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||null;try{_=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(K){}function W(e,t){if(M){var n=g[e];return n.length&&(n[n.length-1].duration=a(w),n[n.length-1].scrolled=T),n.push(t),w=Date.now(),void(T=0)}var r=new XMLHttpRequest;r.open("POST",o+e,!0),r.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),r.send(x(t))}function J(e){var t=d.protocol+"//"+m+d.pathname;if("hash"===H&&d.hash&&(t+=d.hash.split("?")[0]),E!==t){if(E=t,!I&&u in p&&"1"===p[u])return c(D+"when "+u+" is enabled");if("localhost"===m||"file:"===d.protocol)return c(D+"from localhost");var n={url:t,added:Date.now()};C&&(n.urlReferrer=C),s.innerWidth&&(n.width=s.innerWidth),e||(U&&(n.referrer=U),_&&(n.timezone=_),n.version=2);try{var r=s.performance,a="navigation",o=r&&r.getEntriesByType&&r.getEntriesByType(a)[0]&&r.getEntriesByType(a)[0].type?-1<["reload","back_forward"].indexOf(r.getEntriesByType(a)[0].type):r&&r[a]&&-1<[1,2].indexOf(r[a].type);n.unique=!e&&!o&&(!f.referrer||f.referrer.split("/")[2]!==m)}catch(i){n.error=i.message}W(h,n)}}var P=s.history;if((P?P.pushState:null)&&Event&&y){P.pushState=(r=P[n=v],function(){var e=r.apply(this,arguments),t=new Event(n);return t.arguments=arguments,y(t),e}),S(v,function(){J(1)})}"hash"===H&&"onhashchange"in s&&(s.onhashchange=function(){J(1)}),J();var X=C||U,Z=s[N]&&s[N].q?s[N].q:[];s[N]=function(e){W(l,{event:e,ref:X,campaign:L,medium:F})};for(var j=0;j<Z.length;j++)W(l,{event:Z[j][0],ref:X,campaign:L,medium:F})}catch(K){c(K.message);var G=o+"image.gif";K.message&&(G=G+"?error="+encodeURIComponent(K.message)),(new Image).src=G}}}(window);