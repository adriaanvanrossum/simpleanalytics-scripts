/* Simple Analytics - Privacy friend analytics (docs.simpleanalytics.com/script) */

!function(e){if(e){function t(e){c&&c.warn&&c.warn("Simple Analytics: "+e)}function n(e,t){return e&&e.getAttribute("data-"+t)}var r,a,i="https:",s=i+"//",o=s+"<!--# echo var="http_host" default="" -->",c=e.console,u="doNotTrack",h="pageviews",p=e.navigator,d=p.userAgent,m=e.location,l=e.document,f=m.hostname,g="Not sending requests ",v="localhost",w="pushState",y=e.dispatchEvent,S=l.querySelector('script[src="'+s+'<!--# echo var="http_host" default="" -->/light.js"]'),b=n(S,"mode"),E="true"===n(S,"skip-dnt");n(S,"sa-global");if(!E&&u in p&&"1"===p[u])return t(g+"when "+u+" is enabled");if(f===v||"file:"===m.protocol)return t(g+"from "+v);if(!d||-1<d.search(/(bot|spider|crawl)/gi))return t(g+"because bot detected");try{function T(e){var t=m.search.match(new RegExp("[?&]("+e+")=([^?&]+)","gi")),n=t?t.map(function(e){return e.split("=")[1]}):[];if(n&&n[0])return n[0]}var q;try{q=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(H){}function R(e){return Math.round((Date.now()-(e||0))/1e3)}var $,A="(utm_)?",I={version:2,hostname:f,https:m.protocol===i,timezone:q,width:e.innerWidth,source:{source:T(A+"source|ref"),medium:T(A+"medium"),campaign:T(A+"campaign"),referrer:(l.referrer||"").replace(/^https?:\/\/((m|l|w{2,3}([0-9]+)?)\.)?([^?#]+)(.*)$/,"$4").replace(/^([^/]+)\/$/,"$1")||undefined},pageviews:[],events:[]},N="sendBeacon",O=e.addEventListener,k=JSON.stringify,x=N in p&&!1===/ip(hone|ad)(.*)os\s([1-9]|1[0-2])_/i.test(d);x&&O("unload",function(){I[h][I[h].length-1];I.time=R(),p[N](o+"post",k(I))},!1);function C(e){var t=m.pathname;if("hash"===b&&m.hash&&(t+=m.hash.split("?")[0]),$!==t){var n={url:$=t,added:R()};!function(e,t,n){var r=I[e];if(r.length,r.push(t),!x){var a=new XMLHttpRequest;a.open("POST",o+e,!0),n&&delete I.source,I.time=R(),a.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),a.send(k(I))}}(h,n,e)}}var D=e.history;if((D?D.pushState:null)&&Event&&y){D.pushState=(a=D[r=w],function(){var e=a.apply(this,arguments),t=new Event(r);return t.arguments=arguments,y(t),e}),O(w,function(){C(1)}),e.onpopstate=function(){C(1)}}"hash"===b&&"onhashchange"in e&&(e.onhashchange=function(){C(1)}),C()}catch(H){t(H.message);var F=o+"image.gif";H.message&&(F=F+"?error="+encodeURIComponent(H.message)),(new Image).src=F}}}(window);