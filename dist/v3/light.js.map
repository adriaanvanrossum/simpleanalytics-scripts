{"version":3,"file":"light.source.js","sources":["light.source.js"],"sourcesContent":["/* eslint-env browser */\n\n(function (window, overwriteOptions, baseUrl, apiUrlPrefix, version, saGlobal) {\n  if (!window) return;\n  try {\n    /////////////////////\n    // PREDEFINED VARIABLES FOR BETTER MINIFICATION\n    //\n\n    // This seems like a lot of repetition, but it makes our script available for\n    // multple destination which prevents us to need multiple scripts. The minified\n    // version stays small.\n    var https = \"https:\";\n    var pageviewsText = \"pageview\";\n    var errorText = \"error\";\n    var protocol = https + \"//\";\n    var con = window.console;\n    var doNotTrack = \"doNotTrack\";\n    var slash = \"/\";\n    var nav = window.navigator;\n    var loc = window.location;\n    var locationHostname = loc.hostname;\n    var doc = window.document;\n    var userAgent = nav.userAgent;\n    var notSending = \"Not sending request \";\n    var encodeURIComponentFunc = encodeURIComponent;\n    var decodeURIComponentFunc = decodeURIComponent;\n    var stringify = JSON.stringify;\n    var thousand = 1000;\n    var addEventListenerFunc = window.addEventListener;\n    var fullApiUrl = protocol + apiUrlPrefix + baseUrl;\n    var undefinedVar = undefined;\n    var documentElement = doc.documentElement || {};\n    var language = \"language\";\n    var Height = \"Height\";\n    var Width = \"Width\";\n    var scroll = \"scroll\";\n    var scrollHeight = scroll + Height;\n    var offsetHeight = \"offset\" + Height;\n    var clientHeight = \"client\" + Height;\n    var clientWidth = \"client\" + Width;\n    var screen = window.screen;\n\n    /////////////////////\n    // PAYLOAD FOR BOTH PAGE VIEWS AND EVENTS\n    //\n\n    var bot =\n      nav.webdriver ||\n      window.__nightmare ||\n      \"callPhantom\" in window ||\n      \"_phantom\" in window ||\n      \"phantom\" in window ||\n      /(bot|spider|crawl)/i.test(userAgent) ||\n      (window.chrome &&\n        (nav.languages === \"\" ||\n          !nav.plugins.length ||\n          !(nav.plugins instanceof PluginArray)));\n\n    var payload = {\n      version: version,\n    };\n    if (bot) payload.bot = true;\n\n    /////////////////////\n    // HELPER FUNCTIONS\n    //\n\n    // A simple log function so the user knows why a request is not being send\n    var warn = function (message) {\n      if (con && con.warn) con.warn(\"Simple Analytics:\", message);\n    };\n\n    var now = Date.now;\n\n    var uuid = function () {\n      var cryptoObject = window.crypto || window.msCrypto;\n      var emptyUUID = [1e7] + -1e3 + -4e3 + -8e3 + -1e11;\n\n      if (cryptoObject && cryptoObject.getRandomValues)\n        return emptyUUID.replace(/[018]/g, function (c) {\n          return (\n            c ^\n            (cryptoObject.getRandomValues(new Uint8Array(1))[0] &\n              (15 >> (c / 4)))\n          ).toString(16);\n        });\n\n      return emptyUUID.replace(/[018]/g, function (c) {\n        var r = (Math.random() * 16) | 0,\n          v = c < 2 ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n      });\n    };\n\n    var assign = function () {\n      var to = {};\n      var arg = arguments;\n      for (var index = 0; index < arg.length; index++) {\n        var nextSource = arg[index];\n        if (nextSource) {\n          for (var nextKey in nextSource) {\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n\n    var isBoolean = function (value) {\n      return !!value === value;\n    };\n\n    var getParams = function (regex) {\n      // From the search we grab the utm_source and ref and save only that\n      var matches = loc.search.match(\n        new RegExp(\"[?&](\" + regex + \")=([^?&]+)\", \"gi\")\n      );\n      var match = matches\n        ? matches.map(function (m) {\n            return m.split(\"=\")[1];\n          })\n        : [];\n      if (match && match[0]) return match[0];\n    };\n\n    // Ignore pages specified in data-ignore-pages\n    var shouldIgnore = function (path) {\n      for (var i in ignorePages) {\n        var ignorePageRaw = ignorePages[i];\n        if (!ignorePageRaw) continue;\n\n        // Prepend a slash when it's missing\n        var ignorePage =\n          ignorePageRaw[0] == \"/\" ? ignorePageRaw : \"/\" + ignorePageRaw;\n\n        if (\n          ignorePage === path ||\n          new RegExp(ignorePage.replace(/\\*/gi, \"(.*)\"), \"gi\").test(path)\n        )\n          return true;\n      }\n      return false;\n    };\n\n    /////////////////////\n    // SEND DATA VIA OUR PIXEL\n    //\n\n    // Send data via image\n    var sendData = function (data, callback) {\n      data = assign(payload, data);\n      var image = new Image();\n      if (callback) {\n        image.onerror = callback;\n        image.onload = callback;\n      }\n      image.src =\n        fullApiUrl +\n        \"/simple.gif?\" +\n        Object.keys(data)\n          .filter(function (key) {\n            return data[key] != undefinedVar;\n          })\n          .map(function (key) {\n            return (\n              encodeURIComponentFunc(key) +\n              \"=\" +\n              encodeURIComponentFunc(data[key])\n            );\n          })\n          .join(\"&\");\n    };\n\n    /////////////////////\n    // ERROR FUNCTIONS\n    //\n\n    // Send errors\n    var sendError = function (errorOrMessage) {\n      errorOrMessage = errorOrMessage.message || errorOrMessage;\n      warn(errorOrMessage);\n      sendData({\n        type: errorText,\n        error: errorOrMessage,\n        url: definedHostname + loc.pathname,\n      });\n    };\n\n    // We listen for the error events and only send errors that are\n    // from our script (checked by filename) to our server.\n    addEventListenerFunc(\n      errorText,\n      function (event) {\n        if (event.filename && event.filename.indexOf(baseUrl) > -1) {\n          sendError(event.message);\n        }\n      },\n      false\n    );\n\n    /////////////////////\n    // INITIALIZE VALUES\n    //\n\n    var pushState = \"pushState\";\n    var dis = window.dispatchEvent;\n\n\n\n    // This code could error on (incomplete) implementations, that's why we use try...catch\n    var timezone;\n    try {\n      timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    } catch (e) {\n      /* Do nothing */\n    }\n\n    /////////////////////\n    // GET SETTINGS\n    //\n\n    // Find the script element where options can be set on\n    var scriptElement = doc.querySelector('script[src*=\"' + baseUrl + '\"]');\n    var attr = function (scriptElement, attribute) {\n      return scriptElement && scriptElement.getAttribute(\"data-\" + attribute);\n    };\n\n    // Script mode, this can be hash mode for example\n    var mode = overwriteOptions.mode || attr(scriptElement, \"mode\");\n\n    // Should we record Do Not Track visits?\n    var recordDnt = isBoolean(overwriteOptions.skipDnt)\n      ? overwriteOptions.skipDnt\n      : attr(scriptElement, \"ignore-dnt\") == \"true\" ||\n        attr(scriptElement, \"skip-dnt\") == \"true\";\n\n    // Customers can overwrite their hostname, here we check for that\n    var definedHostname =\n      overwriteOptions.hostname ||\n      attr(scriptElement, \"hostname\") ||\n      locationHostname;\n\n    // Customers can ignore certain pages\n    var ignorePagesRaw =\n      overwriteOptions.ignorePages || attr(scriptElement, \"ignore-pages\");\n\n    // Some customers want to collect page views manually\n    var autoCollect = !(\n      attr(scriptElement, \"auto-collect\") == \"false\" ||\n      overwriteOptions.autoCollect === false\n    );\n\n    // Event function name\n    var functionName =\n      overwriteOptions.saGlobal || attr(scriptElement, \"sa-global\") || saGlobal;\n\n    // Make sure ignore pages is an array\n    var ignorePages = Array.isArray(ignorePagesRaw)\n      ? ignorePagesRaw\n      : typeof ignorePagesRaw == \"string\" && ignorePagesRaw.length\n      ? ignorePagesRaw.split(/, ?/)\n      : [];\n\n    /////////////////////\n    // ADD HOSTNAME TO PAYLOAD\n    //\n\n    payload.hostname = definedHostname;\n\n    /////////////////////\n    // ADD WARNINGS\n    //\n\n    // Warn when no document.doctype is defined (this breaks some documentElement dimensions)\n    if (!doc.doctype) warn(\"Add DOCTYPE html for more accurate dimensions\");\n\n    // When a customer overwrites the hostname, we need to know what the original\n    // hostname was to hide that domain from referrer traffic\n    if (definedHostname !== locationHostname)\n      payload.hostname_original = locationHostname;\n\n    // Don't track when Do Not Track is set to true\n    if (!recordDnt && doNotTrack in nav && nav[doNotTrack] == \"1\")\n      return warn(notSending + \"when \" + doNotTrack + \" is enabled\");\n\n    // Don't track when localhost or when it's an IP address\n    if (\n      locationHostname.indexOf(\".\") == -1 ||\n      /^[0-9]+$/.test(locationHostname.replace(/\\./g, \"\"))\n    )\n      return warn(notSending + \"from \" + locationHostname);\n\n    /////////////////////\n    // SETUP INITIAL VARIABLES\n    //\n\n    var page = {};\n    var lastPageId = uuid();\n    var lastSendPath;\n\n    // We don't want to end up with sensitive data so we clean the referrer URL\n    var referrer =\n      (doc.referrer || \"\")\n        .replace(locationHostname, definedHostname)\n        .replace(/^https?:\\/\\/((m|l|w{2,3}([0-9]+)?)\\.)?([^?#]+)(.*)$/, \"$4\")\n        .replace(/^([^/]+)$/, \"$1\") || undefinedVar;\n\n    // The prefix utm_ is optional\n    var utmRegexPrefix = \"(utm_)?\";\n    var source = {\n      source: getParams(utmRegexPrefix + \"source|ref\"),\n      medium: getParams(utmRegexPrefix + \"medium\"),\n      campaign: getParams(utmRegexPrefix + \"campaign\"),\n      term: getParams(utmRegexPrefix + \"term\"),\n      content: getParams(utmRegexPrefix + \"content\"),\n      referrer: referrer,\n    };\n\n    /////////////////////\n    // TIME ON PAGE AND SCROLLED LOGIC\n    //\n\n    // We don't put msHidden in if duration block, because it's used outside of that functionality\n    var msHidden = 0;\n\n\n    var sendBeaconText = \"sendBeacon\";\n\n    var sendOnLeave = function (id, push) {\n      var append = { type: \"append\", original_id: push ? id : lastPageId };\n\n\n\n      if (push || !(sendBeaconText in nav)) {\n        sendData(append);\n      } else {\n        nav[sendBeaconText](\n          fullApiUrl + \"/append\",\n          stringify(assign(payload, append))\n        );\n      }\n    };\n\n    addEventListenerFunc(\"unload\", sendOnLeave, false);\n\n\n    /////////////////////\n    // ACTUAL PAGE VIEW LOGIC\n    //\n\n    var getPath = function (overwrite) {\n      var path = overwrite || decodeURIComponentFunc(loc.pathname);\n\n      // Ignore pages specified in data-ignore-pages\n      if (shouldIgnore(path)) {\n        warn(notSending + \"because \" + path + \" is ignored\");\n        return;\n      }\n\n      // Add hash to path when script is put in to hash mode\n      if (mode == \"hash\" && loc.hash) path += loc.hash.split(\"?\")[0];\n\n      return path;\n    };\n\n    // Send page view and append data to it\n    var sendPageView = function (isPushState, deleteSourceInfo, sameSite) {\n      if (isPushState) sendOnLeave(\"\" + lastPageId, true);\n      lastPageId = uuid();\n      page.id = lastPageId;\n\n      var currentPage = definedHostname + getPath();\n\n      sendData(\n        assign(\n          page,\n          deleteSourceInfo\n            ? {\n                referrer: sameSite ? referrer : null,\n              }\n            : source,\n          {\n            https: loc.protocol == https,\n            timezone: timezone,\n            width: window.innerWidth,\n            type: pageviewsText,\n          }\n        )\n      );\n\n      referrer = currentPage;\n    };\n\n    var pageview = function (isPushState, pathOverwrite) {\n      // Obfuscate personal data in URL by dropping the search and hash\n      var path = getPath(pathOverwrite);\n\n      // Don't send the last path again (this could happen when pushState is used to change the path hash or search)\n      if (!path || lastSendPath == path) return;\n\n      lastSendPath = path;\n\n      var data = {\n        path: path,\n        viewport_width:\n          Math.max(documentElement[clientWidth] || 0, window.innerWidth || 0) ||\n          null,\n        viewport_height:\n          Math.max(\n            documentElement[clientHeight] || 0,\n            window.innerHeight || 0\n          ) || null,\n      };\n\n      if (nav[language]) data[language] = nav[language];\n\n      if (screen) {\n        data.screen_width = screen.width;\n        data.screen_height = screen.height;\n      }\n\n      // If a user does refresh we need to delete the referrer because otherwise it count double\n      var perf = window.performance;\n      var navigation = \"navigation\";\n\n      // Check if back, forward or reload buttons are being used in modern browsers\n      var userNavigated =\n        perf &&\n        perf.getEntriesByType &&\n        perf.getEntriesByType(navigation)[0] &&\n        perf.getEntriesByType(navigation)[0].type\n          ? [\"reload\", \"back_forward\"].indexOf(\n              perf.getEntriesByType(navigation)[0].type\n            ) > -1\n          : // Check if back, forward or reload buttons are being use in older browsers\n            // 1: TYPE_RELOAD, 2: TYPE_BACK_FORWARD\n            perf &&\n            perf[navigation] &&\n            [1, 2].indexOf(perf[navigation].type) > -1;\n\n      // Check if referrer is the same as current hostname\n      var sameSite = referrer\n        ? referrer.split(slash)[0] == definedHostname\n        : false;\n\n\n      page = data;\n\n      sendPageView(isPushState, isPushState || userNavigated, sameSite);\n    };\n\n    /////////////////////\n    // AUTOMATED PAGE VIEW COLLECTION\n    //\n\n    var his = window.history;\n    var hisPushState = his ? his.pushState : undefinedVar;\n\n    // Overwrite history pushState function to\n    // allow listening on the pushState event\n    if (autoCollect && hisPushState && Event && dis) {\n      var stateListener = function (type) {\n        var orig = his[type];\n        return function () {\n          var arg = arguments;\n          var rv = orig.apply(this, arg);\n          var event;\n          if (typeof Event == \"function\") {\n            event = new Event(type);\n          } else {\n            // Fix for IE\n            event = doc.createEvent(\"Event\");\n            event.initEvent(type, true, true);\n          }\n          event.arguments = arg;\n          dis(event);\n          return rv;\n        };\n      };\n\n      his.pushState = stateListener(pushState);\n\n      addEventListenerFunc(\n        pushState,\n        function () {\n          pageview(1);\n        },\n        false\n      );\n\n      addEventListenerFunc(\n        \"popstate\",\n        function () {\n          pageview(1);\n        },\n        false\n      );\n    }\n\n    // When in hash mode, we record a pageview based on the onhashchange function\n    if (autoCollect && mode == \"hash\" && \"onhashchange\" in window) {\n      addEventListenerFunc(\n        \"hashchange\",\n        function () {\n          pageview(1);\n        },\n        false\n      );\n    }\n\n    if (autoCollect) pageview();\n    else\n      window.sa_pageview = function (path) {\n        pageview(0, path);\n      };\n\n    /////////////////////\n    // EVENTS\n    //\n\n  } catch (e) {\n    sendError(e);\n  }\n})(\n  window,\n  \"{{overwriteOptions}}\",\n  \"{{nginxHost}}\",\n  \"\",\n  3,\n  \"sa_event\"\n);\n"],"names":["window","overwriteOptions","baseUrl","type","orig","value","https","errorText","con","console","doNotTrack","nav","navigator","loc","location","locationHostname","hostname","doc","document","userAgent","notSending","encodeURIComponentFunc","encodeURIComponent","decodeURIComponentFunc","decodeURIComponent","stringify","JSON","addEventListenerFunc","addEventListener","fullApiUrl","undefinedVar","undefined","documentElement","language","screen","bot","webdriver","__nightmare","test","chrome","languages","plugins","length","PluginArray","payload","version","warn","message","uuid","Date","now","cryptoObject","crypto","msCrypto","emptyUUID","getRandomValues","replace","c","Uint8Array","toString","r","Math","random","assign","to","arg","arguments","index","nextSource","nextKey","Object","prototype","hasOwnProperty","call","getParams","regex","matches","search","match","RegExp","map","m","split","sendData","data","callback","image","Image","onerror","onload","src","keys","filter","key","join","sendError","errorOrMessage","error","url","definedHostname","pathname","event","filename","indexOf","timezone","pushState","dis","dispatchEvent","Intl","DateTimeFormat","resolvedOptions","timeZone","e","scriptElement","querySelector","attr","attribute","getAttribute","mode","recordDnt","skipDnt","ignorePagesRaw","ignorePages","autoCollect","saGlobal","Array","isArray","doctype","hostname_original","lastSendPath","page","lastPageId","referrer","utmRegexPrefix","source","medium","campaign","term","content","sendBeaconText","sendOnLeave","id","push","append","original_id","getPath","overwrite","path","i","ignorePageRaw","ignorePage","shouldIgnore","hash","pageview","isPushState","pathOverwrite","perf","navigation","userNavigated","sameSite","viewport_width","max","innerWidth","viewport_height","innerHeight","screen_width","width","screen_height","height","performance","getEntriesByType","deleteSourceInfo","currentPage","protocol","sendPageView","his","history","hisPushState","Event","rv","apply","this","createEvent","initEvent","sa_pageview"],"mappings":"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"}