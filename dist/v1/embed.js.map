{"version":3,"file":"embed.source.js","sources":["embed.source.js"],"sourcesContent":["(function (document) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    var counter = 1;\n    document.querySelectorAll(\"[data-sa-graph-url]\").forEach(function (graph) {\n      var url = graph.getAttribute(\"data-sa-graph-url\");\n      var append = url.indexOf(\"?\") > -1 ? \"&\" : \"?\";\n      var iframe = document.createElement(\"iframe\");\n      iframe.setAttribute(\n        \"src\",\n        url + append + \"embed=true&graph_id=\" + counter\n      );\n      iframe.setAttribute(\"id\", \"sa-graph-\" + counter);\n      iframe.setAttribute(\"scrolling\", \"no\");\n      iframe.style.width = \"100%\";\n      iframe.style.border = \"none\";\n      graph.innerHTML = iframe.outerHTML;\n      counter = counter + 1;\n    });\n\n    window.onresize = function () {\n      document\n        .querySelectorAll(\"[data-sa-graph-url] iframe\")\n        .forEach(function (iframe) {\n          iframe.contentWindow.postMessage(\"true\", \"*\");\n        });\n    };\n\n    window.addEventListener(\"message\", function (event) {\n      if (typeof event.data !== \"object\") {\n        return;\n      } else if (event.data.type === \"resize\") {\n        document.getElementById(\"sa-graph-\" + event.data.id).height =\n          event.data.height + \"px\";\n      } else if (event.data.type === \"pageviews\") {\n        var graph = document.getElementById(\"sa-graph-\" + event.data.id);\n        var selector = graph.parentNode.getAttribute(\n          \"data-sa-page-views-selector\"\n        );\n        if (selector)\n          document\n            .querySelectorAll(selector)\n            .forEach(function (pageViewsElement) {\n              pageViewsElement.textContent = event.data.pageviews;\n            });\n      }\n    });\n  });\n})(document);\n"],"names":["document","NodeList","prototype","forEach","Array","addEventListener","counter","querySelectorAll","graph","url","getAttribute","append","indexOf","iframe","createElement","setAttribute","style","width","border","innerHTML","outerHTML","window","onresize","contentWindow","postMessage","event","selector","data","type","getElementById","id","height","parentNode","pageViewsElement","textContent","pageviews"],"mappings":";;AAAA,IAAWA,EAAAA,EAiDRA,SAhDDC,SAASC,UAAUC,QAAUC,MAAMF,UAAUC,QAE7CH,EAASK,iBAAiB,mBAAoB,WAC5C,IAAIC,EAAU,EACdN,EAASO,iBAAiB,uBAAuBJ,QAAQ,SAAUK,GACjE,IAAIC,EAAMD,EAAME,aAAa,qBACzBC,GAA6B,EAApBF,EAAIG,QAAQ,KAAY,IAAM,IACvCC,EAASb,EAASc,cAAc,UACpCD,EAAOE,aACL,MACAN,EAAME,EAAS,uBAAyBL,GAE1CO,EAAOE,aAAa,KAAM,YAAcT,GACxCO,EAAOE,aAAa,YAAa,MACjCF,EAAOG,MAAMC,MAAQ,OACrBJ,EAAOG,MAAME,OAAS,OACtBV,EAAMW,UAAYN,EAAOO,UACzBd,GAAoB,IAGtBe,OAAOC,SAAW,WAChBtB,EACGO,iBAAiB,8BACjBJ,QAAQ,SAAUU,GACjBA,EAAOU,cAAcC,YAAY,OAAQ,QAI/CH,OAAOhB,iBAAiB,UAAW,SAAUoB,GAC3C,IAOMC,EAPoB,iBAAfD,EAAME,OAEc,WAApBF,EAAME,KAAKC,KACpB5B,EAAS6B,eAAe,YAAcJ,EAAME,KAAKG,IAAIC,OACnDN,EAAME,KAAKI,OAAS,KACO,cAApBN,EAAME,KAAKC,OAEhBF,EADQ1B,EAAS6B,eAAe,YAAcJ,EAAME,KAAKG,IACxCE,WAAWtB,aAC9B,iCAGAV,EACGO,iBAAiBmB,GACjBvB,QAAQ,SAAU8B,GACjBA,EAAiBC,YAAcT,EAAME,KAAKQ"}