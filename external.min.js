!function(i,e){if(i){var r,n,o=i.navigator,s=i.location,c=s.hostname,u=i.document,t=i.console,h="//"+e;try{function a(e,t){return e&&e.getAttribute("data-"+t)}function l(e){t&&t.warn&&t.warn("Simple Analytics: "+e)}var f,p=o.userAgent,d=i.dispatchEvent,v="Not sending requests ",m=u.querySelector('script[src$="'+h+'/app.js"]'),g=a(m,"mode"),y="true"===a(m,"skip-dnt"),w=a(m,"sa-global")||"sa";if("localhost"===c)return l(v+"from localhost");if(-1<p.search(/(bot|spider|crawl)/gi))return l(v+"because user agent is a robot");function b(){var e=s.search.match(/[?&](utm_source|source|ref)=([^?&]+)/gi),t=e?e.map(function(e){return e.split("=")[1]}):[];if(t&&t[0])return t[0]}function S(e){var t=s.protocol+"//"+c+s.pathname;if("hash"===g&&s.hash&&(t+=s.hash.split("?")[0]),f!==t){if(f=t,"visibilityState"in u&&"prerender"===u.visibilityState)return l(v+"when prerender");if(!y&&"doNotTrack"in o&&"1"===o.doNotTrack)return l(v+"when doNotTrack is enabled");var r=b(),n={url:t};p&&(n.ua=p),r&&(n.urlReferrer=r),u.referrer&&!e&&(n.referrer=u.referrer),i.innerWidth&&(n.width=i.innerWidth);try{n.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}var a=new XMLHttpRequest;a.open("POST",h+"/api",!0),a.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),a.send(JSON.stringify(n))}}var E=i.history;if((E?E.pushState:null)&&Event&&d){E.pushState=(n=E[r="pushState"],function(){var e=n.apply(this,arguments),t=new Event(r);return t.arguments=arguments,d(t),e}),i.addEventListener("pushState",function(){S(!0)})}"hash"===g&&"onhashchange"in i&&(i.onhashchange=S),S();var T=/\.(.+)/.exec(e)[1];if(c!==T&&!new RegExp("."+T+"$","i").test(c))return l("Events via this script only work on "+T+" domains");function q(){N=!0;var r=u.createElement("iframe");r.setAttribute("src",h+"/iframe.html"),r.style.display="none",r.onload=function(){var t=r.contentWindow;try{if(k)for(var e=0;e<k.length;e++)t.postMessage({event:k[e][0],ref:b()},"*")}catch(e){}i[w]=function(e){t.postMessage({event:e,ref:b()},"*")}},u.body.appendChild(r)}var k=i[w]&&i[w].q?i[w].q:[],N=!1;i[w]=function(){N||q(),k.push([].slice.call(arguments))},!N&&k.length&&q()}catch(e){t&&t.error&&t.error(e);var R=h+"/image.gif";e&&e.message&&(R=R+"?error="+encodeURIComponent(e.message)),(new Image).src=R}}}(window,'<!--# echo var="http_host" default="" -->');
